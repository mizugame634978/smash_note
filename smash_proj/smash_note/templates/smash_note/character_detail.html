{% extends './base.html' %}
{% block content %}



  <h1>
    VS &nbsp<span class="ml-10"><img  src="{{ character.image_url.url }}" alt="{{ character.character_name }}の画像"></span>
  </h1>
  <a href="{% url 'smash_note:memo_create' character.pk %}" class="btn btn-success">対戦を記録&nbsp;<i class="fa-solid fa-pen-to-square"></i></a>
  {% if filter_character %}
    <h1>
      You &nbsp<span class="ml-10"><img  src="{{ filter_character.image_url.url }}" alt="{{ filter_character.character_name }}の画像"></span>
    </h1>
  {% endif %}

  <p>
    勝敗の記録された試合数: <strong>{{ valid_total_matches }}</strong><br/>
    勝率:  <strong>{{ win_rate }}%</strong>
  </p>


<br>
{% comment %}
{#キャラの隣のボタンを押してフィルターする試作品#}
<div class="container">
  <form method="GET" action="{% url 'smash_note:character_detail' character.id %}">

    <div class="form-group">
      {% for favorite_character in favorite_characters %}{#お気に入りキャラ#}
        <span class="bg-secondary" >
          <input type="submit" name="filter" value="{{ favorite_character.id }}">
            <img src="{{ favorite_character.image_url.url }}" alt="{{ favorite_character.character_name }}の画像">
          </input>
        </span>
        &nbsp;
      {% endfor %}
      </div>

  </form>
</div> {% endcomment %}

{###ラジオボタンでフィルター###}
  <div class="container">
    <form method="GET" action="{% url 'smash_note:character_detail' character.id %}">

      <div class="form-group">

        {% for favorite_character in favorite_characters %}{#お気に入りキャラ#}
          <span class="bg-secondary" >

            <input type="radio" name="filter" value="{{ favorite_character.id }}">
              <img src="{{ favorite_character.image_url.url }}" alt="{{ favorite_character.character_name }}の画像">
            </input>
          </span>
          &nbsp;
        {% endfor %}
        <input type="radio" name="filter" value="">
              絞り込みなし
        </input>

      </div>
        <div class="col-md-6">
          <button type="submit" class="btn btn-primary"><i class="fa-solid fa-filter"></i></button>
        </div>
    </form>
  </div>


{% comment %}  {% endcomment %}
  {% for result in match_results %}{#すべてのresultを表示#}
      <article class = "media">
        <div class = "media-content">
          <div class ="content">
            <p>

              <strong>
                  <small>{{result.memo_date}}</small>

                  {% if result.win_flag == True%}
                    <small>勝ち</small>
                  {% elif result.win_flag == False%}
                    <small>負け</small>
                  {% else %}
                    <small>無記入</small>
                  {% endif %}

                  <a href="{% url "smash_note:memo_update" result.pk %}">編集</a>
                  <small>{{result.player_character_id}}</small>
              </strong>
              <br />
              {{ result.memo }}

            </p>
          </div>
        </div>
      </article>
  {% endfor %}






{%endblock%}

